<!DOCTYPE html>
<html>
	<head>
		<title>API Tomato Twitter Tube</title>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script>
			$(document).ready(function(){

  
    $.getJSON("https://cooper-union-kimono-proxy.herokuapp.com/api/5jsfr3fi?apikey=KUM4jZPQEXMgITOSLLo8tC4l2nGXNTsj", function(list) {
        
    for(var i = 0; i<5; i++) {

      var item = list.results.collection1[i].movies.text;

          (function(i, item){
            // var title = "<h1>"+item+ "</h1>";
            $("#tweet-"+i+" h1").append(item);
            // $("#video-"+i).append(title);

          var url = "http://cooper-union-search-proxy.herokuapp.com/twitter/search/in%20movie%20theater%20" + item;
          console.log(url);
          $.getJSON(url, function(tweet){
            console.log(tweet)
            for(var j = 0; j< tweet.statuses.length; j++) {
       //
              $("#tweet-"+i).append("<p>"+tweet.statuses[j].text+ "</p>");
            };
          });

          var youtube= "http://cooper-union-youtube-proxy.herokuapp.com/search/video/trailer%20" +item;
          console.log(youtube);
          $.getJSON(youtube, function(trailer) {
            console.log(trailer)

          var segment= trailer.items[0].id.videoId;
            console.log(segment);
          var embed = '<iframe src="http://www.youtube.com/embed/'+segment+'" width="224" height="126" frameborder="0" allowfullscreen></iframe>';
            console.log(embed);
          $("#video-"+ i).append("<p>"+embed+"</p>");
         
        });

        })(i, item);
        };

        $("#button-0").click(function(){
            $("#video-0 iframe").toggleClass("big");
           
          });
        $("#button-1").click(function(){
            $("#video-1 iframe").toggleClass("big");
           
          });
        $("#button-2").click(function(){
            $("#video-2 iframe").toggleClass("big");
           
          });
        $("#button-3").click(function(){
            $("#video-3 iframe").toggleClass("big");
           
          });
        $("#button-4").click(function(){
            $("#video-4 iframe").toggleClass("big");
           
          });
        

      }); //end $.getJSON

      }); //end document.ready

		</script>
		
		<style>
		body {
      background-color: black;
      color: white;
    }
    #tweet-0 {
			margin-left: 50px;

		}
		div{ 
		float: left;
 		border: 3px solid red;
 		width: 18%;
 		height: 50%;
 		margin-left: 5px;
		}
		header {
			text-align: center;
			font-family: Georgia;
      margin-bottom: 30px;
      font-size: 65px;
      background-image:url(titlebg.png);
      background-size: contain;
      padding-top: 30px;
      padding-bottom: 30px;
      
		}
    .video {
      border: none;
      float: none;
    }
  .video h1 {
    display: inline;
    margin-bottom: none;
    padding-bottom: none;
  }
  #tweet-0, #video-0 {
    color: white;
  }
  #tweet-1, #video-1 {
    color: #00FF00;
  }
  #tweet-2, #video-2 {
    color: #4775FF;
  }
  #tweet-3, #video-3 {
    color: #FF0066;
  }
  #tweet-4, #video-4 {
    color: #FFFF00;
  }
  .button {
    width: 200px;
    clear:both;
    border:none;
  }
  #video-0 iframe.big {
    width:800px;
    height: 450px;
    position: absolute;
    left:200px;
    top: 460px;
  }
  #video-1 iframe.big {
    width:800px;
    height: 450px;
    position: absolute;
    left:200px;
    top: 460px;
  }
  #video-2 iframe.big {
    width:800px;
    height: 450px;
    position: absolute;
    left:200px;
    top: 460px;
  }
  #video-3 iframe.big {
    width:800px;
    height: 450px;
    position: absolute;
    left:200px;
    top: 460px;
  }
  #video-4 iframe.big {
    width:800px;
    height: 450px;
    position: absolute;
    left:200px;
    top: 460px;
  }
 /* iframe:click {
    width:800px;
    height: 450px;
    position: absolute;
    left:200px;

  }*/
		</style>

	</head>
	<body>
		<header> Top 5 Trending Movies New Yorkers are talking about NOW. </header>
		<div class="tweet" id="tweet-0">
      <h1> #1 </h1>   
      <div class="button" id="button-0"> <p> expand video </p> </div>
      <div class="video" id="video-0">
      </div>
      
		</div>

		<div class="tweet" id="tweet-1">
      <h1> #2 </h1>
      <div class="button" id="button-1"> <p> expand video </p> </div>
      <div class="video" id="video-1">
      </div>
    </div>

		<div class="tweet" id="tweet-2">
      <h1> #3 </h1>
      <div class="button" id="button-2"> <p> expand video </p> </div>
      <div class="video" id="video-2">
      </div>
		</div>

		<div class="tweet" id="tweet-3">
      <h1> #4 </h1>
      <div class="button" id="button-3"> <p> expand video </p> </div>
      <div class="video" id="video-3">
      </div>
		</div>

		<div class="tweet" id="tweet-4">
      <h1> #5 </h1>
      <div class="button" id="button-4"> <p> expand video </p> </div>
      <div class="video" id="video-4">
      </div>
		</div>
	</body>
</html>	